<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nuevo Sistema de Menús Avanzado</title> <!-- Título actualizado -->
    <link rel="stylesheet" href="css/style.css">
    <link rel="icon" href="/assets/img/escudo.jpg" type="image/jpeg">
    <!-- Se podría añadir un favicon aquí -->
    <!-- <link rel="icon" href="favicon.ico" type="image/x-icon"> -->
</head>
<body>

    <!-- Encabezado principal del sitio, contiene la navegación -->
    <header class="main-header">
        <!-- Navegación principal del sitio -->
        <nav class="main-nav" id="mainNav" aria-label="Navegación Principal">
            <!-- Logo del sitio -->
            <a href="#" class="nav-logo">MiLogo</a>

            <!-- Botón para alternar el menú en dispositivos móviles (hamburguesa) -->
            <button class="nav-toggle" id="navToggle" aria-label="Abrir menú de navegación" aria-expanded="false" aria-controls="mainNavList">
                <span class="hamburger-line" aria-hidden="true"></span>
                <span class="hamburger-line" aria-hidden="true"></span>
                <span class="hamburger-line" aria-hidden="true"></span>
            </button>

            <!-- Lista de elementos del menú principal -->
            <ul class="nav-menu" id="mainNavList">
                <!-- Ítem de menú simple -->
                <li class="nav-menu-item"><a href="index.html" class="nav-menu-link">Inicio</a></li>

                <!-- Ítem de menú con submenú -->
                <li class="nav-menu-item has-submenu has-megamenu"> <!-- Nueva clase .has-megamenu -->
                    <a href="productos.html" class="nav-menu-link" aria-haspopup="true" aria-expanded="false">Productos</a>
                    <!-- Botón para desplegar submenú en móvil (controlado por JS) -->
                    <button class="submenu-toggle" aria-label="Mostrar submenú de Productos" aria-expanded="false"></button>

                    <!-- Mega Menú (para escritorio) -->
                    <div class="mega-menu-container">
                        <div class="mega-menu-content">
                            <div class="mega-menu-column">
                                <h4 class="mega-menu-heading">Categoría Alpha</h4>
                                <ul class="mega-menu-list">
                                    <li><a href="producto-a1.html">Producto A.1</a></li>
                                    <li><a href="producto-a2.html">Producto A.2</a></li>
                                    <li><a href="producto-a3.html">Producto A.3 Especial</a></li>
                                </ul>
                                <h4 class="mega-menu-heading">Categoría Beta</h4>
                                <ul class="mega-menu-list">
                                    <li><a href="producto-b1.html">Producto B.1</a></li>
                                    <li><a href="producto-b2.html">Producto B.2</a></li>
                                </ul>
                            </div>
                            <div class="mega-menu-column">
                                <h4 class="mega-menu-heading">Producto C (Más Opciones)</h4>
                                <ul class="mega-menu-list">
                                    <li><a href="opcion-c1.html">Opción C.1 Detallada</a></li>
                                    <li><a href="opcion-c2.html">Opción C.2 Avanzada</a></li>
                                    <li><a href="opcion-c3.html">Opción C.3 Nueva</a></li>
                                    <li><a href="opcion-c4.html">Opción C.4 Otra</a></li>
                                </ul>
                            </div>
                            <div class="mega-menu-column mega-menu-column-promo">
                                <h4 class="mega-menu-heading">Oferta Destacada</h4>
                                <!-- Aquí podría ir una imagen o un bloque promocional -->
                                <a href="oferta-especial.html" class="promo-block">
                                    <img src="https://via.placeholder.com/200x100.png?text=Promo+Aqui" alt="Promoción especial" class="promo-image">
                                    <p class="promo-text">Descubre nuestra nueva línea de productos con descuento.</p>
                                </a>
                            </div>
                        </div>
                    </div>

                    <!-- Submenú estándar para móvil (duplica la estructura de forma simplificada) -->
                    <ul class="nav-submenu">
                        <li class="nav-submenu-item"><a href="producto-a1.html" class="nav-submenu-link">Producto A.1</a></li>
                        <li class="nav-submenu-item"><a href="producto-a2.html" class="nav-submenu-link">Producto A.2</a></li>
                        <li class="nav-submenu-item"><a href="producto-a3.html" class="nav-submenu-link">Producto A.3 Especial</a></li>
                        <li class="nav-submenu-item"><a href="producto-b1.html" class="nav-submenu-link">Producto B.1</a></li>
                        <li class="nav-submenu-item"><a href="producto-b2.html" class="nav-submenu-link">Producto B.2</a></li>
                        <li class="nav-submenu-item has-submenu"> <!-- Submenú anidado para "Producto C" en móvil -->
                            <a href="producto-c.html" class="nav-submenu-link" aria-haspopup="true" aria-expanded="false">Producto C (Más opciones)</a>
                            <button class="submenu-toggle" aria-label="Mostrar submenú de Producto C" aria-expanded="false"></button>
                            <ul class="nav-submenu-nested">
                                <li class="nav-submenu-item"><a href="opcion-c1.html" class="nav-submenu-link">Opción C.1 Detallada</a></li>
                                <li class="nav-submenu-item"><a href="opcion-c2.html" class="nav-submenu-link">Opción C.2 Avanzada</a></li>
                                <li class="nav-submenu-item"><a href="opcion-c3.html" class="nav-submenu-link">Opción C.3 Nueva</a></li>
                                <li class="nav-submenu-item"><a href="opcion-c4.html" class="nav-submenu-link">Opción C.4 Otra</a></li>
                            </ul>
                        </li>
                    </ul>
                </li>

                <li class="nav-menu-item"><a href="servicios.html" class="nav-menu-link">Servicios</a></li>

                <li class="nav-menu-item has-submenu">
                    <a href="acerca-de.html" class="nav-menu-link" aria-haspopup="true" aria-expanded="false">Acerca de</a>
                    <button class="submenu-toggle" aria-label="Mostrar submenú de Acerca de Nosotros" aria-expanded="false"></button>
                    <ul class="nav-submenu">
                        <li class="nav-submenu-item"><a href="nosotros.html" class="nav-submenu-link">Nosotros</a></li>
                        <li class="nav-submenu-item"><a href="equipo.html" class="nav-submenu-link">Equipo</a></li>
                        <li class="nav-submenu-item"><a href="historia.html" class="nav-submenu-link">Historia</a></li>
                    </ul>
                </li>

                <li class="nav-menu-item"><a href="contacto.html" class="nav-menu-link">Contacto</a></li>

                <!-- Ítem de menú que activa el panel deslizante -->
                <li class="nav-menu-item nav-menu-item-sliding-panel-trigger">
                    <a href="#" class="nav-menu-link" id="openSlidingPanel" role="button" aria-haspopup="true" aria-expanded="false" aria-controls="slidingPanel">Perfil</a>
                </li>
                <!-- Botón para cambiar el tema -->
                <li class="nav-menu-item theme-toggle-item">
                    <button id="themeToggleBtn" class="theme-toggle-button" aria-label="Activar tema oscuro/claro" title="Cambiar tema">
                        <svg class="theme-icon theme-icon-sun" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="24" height="24"><path d="M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zM12 9c1.65 0 3 1.35 3 3s-1.35 3-3 3-3-1.35-3-3 1.35-3 3-3zM12 2c.55 0 1 .45 1 1v2c0 .55-.45 1-1 1s-1-.45-1-1V3c0-.55.45-1 1-1zM12 18c.55 0 1 .45 1 1v2c0 .55-.45 1-1 1s-1-.45-1-1v-2c0-.55.45-1 1-1zM4.22 5.64c.39-.39 1.02-.39 1.41 0l1.41 1.41c.39.39.39 1.02 0 1.41-.39.39-1.02.39-1.41 0L4.22 7.05c-.39-.39-.39-1.02 0-1.41zM16.97 18.39c.39-.39 1.02-.39 1.41 0l1.41 1.41c.39.39.39 1.02 0 1.41-.39.39-1.02.39-1.41 0l-1.41-1.41c-.39-.39-.39-1.02 0-1.41zM2 12c0-.55.45-1 1-1h2c.55 0 1 .45 1 1s-.45 1-1 1H3c-.55 0-1-.45-1-1zM18 12c0-.55.45-1 1-1h2c.55 0 1 .45 1 1s-.45 1-1 1h-2c-.55 0-1-.45-1-1zM5.64 16.97c-.39.39-.39 1.02 0 1.41l1.41 1.41c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L7.05 16.97c-.39-.39-1.02-.39-1.41 0zM18.39 4.22c-.39.39-.39 1.02 0 1.41l1.41 1.41c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L19.8 4.22c-.39-.39-1.02-.39-1.41 0z"/></svg>
                        <svg class="theme-icon theme-icon-moon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="24" height="24" style="display:none;"><path d="M11.5 2C6.81 2 3 6.81 3 11.5S6.81 21 11.5 21c.83 0 1.63-.12 2.38-.34-.3-.64-.48-1.37-.48-2.16 0-2.48 2.02-4.5 4.5-4.5.79 0 1.52.18 2.16.48C19.12 9.13 19.00 8.33 19.00 7.5C19.00 4.46 16.54 2 13.5 2c-.83 0-1.63.12-2.38.34C10.82 2.12 10.00 2 10.00 2C10.5 2 11 2 11.5 2z"/></svg>
                    </button>
                </li>
            </ul>
        </nav>
    </header>

    <!-- Panel deslizante (ej. para perfil de usuario, configuraciones) -->
    <!-- aria-hidden se gestiona con JS -->
    <aside class="sliding-panel" id="slidingPanel" role="dialog" aria-modal="true" aria-labelledby="slidingPanelTitle" aria-hidden="true">
        <button class="sliding-panel-close sliding-panel-item" id="closeSlidingPanel" aria-label="Cerrar panel de perfil">×</button>
        <h2 id="slidingPanelTitle" class="sliding-panel-item">Panel de Usuario</h2>
        <p class="sliding-panel-item">Bienvenido/a. Aquí puedes ver tus opciones de perfil.</p>
        <ul class="sliding-panel-item">
            <li class="sliding-panel-item"><a href="perfil/opcion1.html">Ver mi Perfil</a></li>
            <li class="sliding-panel-item"><a href="perfil/opcion2.html">Configuración</a></li>
            <li class="sliding-panel-item"><a href="logout.html">Cerrar Sesión</a></li>
        </ul>
    </aside>

    <!-- Contenido principal de la página -->
    <main class="content">
        <h1>Contenido Principal de la Página</h1>
        <p>Este es un ejemplo de contenido para demostrar el nuevo sistema de menús avanzado.
           Intenta interactuar con el menú en diferentes tamaños de pantalla y con el teclado.</p>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
           Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
    </main>

    <!-- Script principal para la interactividad del menú -->
    <script src="js/main.js"></script>

    <!-- Barra de Comandos / Búsqueda Universal -->
    <div class="command-palette-overlay" id="commandPaletteOverlay" aria-hidden="true">
        <div class="command-palette" id="commandPalette" role="dialog" aria-modal="true" aria-labelledby="commandPaletteTitle">
            <div class="command-palette-header">
                <h3 id="commandPaletteTitle" class="sr-only">Barra de Comandos</h3>
                <svg class="command-palette-search-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="20" height="20"><path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0016 9.5A6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg>
                <input type="search" id="commandPaletteSearchInput" class="command-palette-search-input" placeholder="Escribe para buscar...">
                <button class="command-palette-close" id="commandPaletteCloseBtn" aria-label="Cerrar barra de comandos">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="20" height="20"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
                </button>
            </div>
            <div class="command-palette-results" id="commandPaletteResults">
                <!-- Los resultados se insertarán aquí. Ejemplo:
                <a href="#" class="command-palette-result-item" role="option" id="result-item-0">
                    <span class="result-icon">📄</span>
                    <span class="result-text">Nombre del Ítem</span>
                    <span class="result-category">Menú Principal</span>
                </a>
                -->
            </div>
            <div class="command-palette-footer">
                <span><strong>↵</strong> seleccionar</span>
                <span><strong>↑↓</strong> navegar</span>
                <span><strong>Esc</strong> cerrar</span>
            </div>
        </div>
    </div>
</body>
</html>
