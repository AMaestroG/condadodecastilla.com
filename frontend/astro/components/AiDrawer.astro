---
export interface Props {
  summaryMode?: boolean;
  qaMode?: boolean;
}

const { summaryMode = true, qaMode = true } = Astro.props as Props;
---
<div id="ai-drawer" class="ai-drawer">
  <div class="ai-drawer-header">
    <h3 id="ai-chat-title">Asistente IA</h3>
    <button id="close-ai-drawer" aria-label="Cerrar">×</button>
  </div>
  <div class="ai-drawer-content">
    <div id="ia-tools-menu">
      {summaryMode && <button id="ia-summary-btn">Resumen</button>}
      <button id="ia-translate-btn">Traducir</button>
      {qaMode && <button id="ia-research-btn">Investigar</button>}
      <button id="ia-websearch-btn">Buscar web</button>
    </div>
    <p class="ai-notice-inline">
      Texto generado automáticamente. Consulta nuestra
      <a href="/docs/responsible-ai.md">política de uso de IA</a>.
    </p>
    <div id="gemini-chat-area" aria-live="polite" tabindex="0"></div>
    <div id="gemini-chat-input-container">
      <input id="gemini-chat-input" type="text" placeholder="Escribe tu consulta...">
      <button id="gemini-chat-submit">Enviar</button>
    </div>
    <dialog id="ai-dialog" class="chat-dialog">respuesta</dialog>
    <div id="ai-response-container"><textarea id="ai-response-box" readonly></textarea></div>
  </div>
</div>
